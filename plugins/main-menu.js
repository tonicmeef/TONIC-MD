const config = require('../config');
const { cmd, commands } = require('../command');
const os = require("os");
const { runtime } = require('../lib/functions');
const axios = require('axios');
const more = String.fromCharCode(8206);
const readMore = more.repeat(4001);
const fs = require('fs');
const path = require('path');

// Function to get Harare time
function getHarareTime() {
    return new Date().toLocaleString('en-US', {
        timeZone: 'Africa/Harare',
        hour12: true, // Use 12-hour format (optional)
        hour: 'numeric',
        minute: 'numeric',
        second: 'numeric'
    });
}

// Function to get Harare time
function getHararedate() {
    return new Date().toLocaleString('en-US', {
    timeZone: 'Africa/Harare',
        hour12: true, // Use 12-hour format (optional)
        year: 'numeric',
        month: 'short',
        day: 'numeric',
    });
}

// Function to get number of commands
        const totalCommands = Object.keys(commands).length;
     
// Function to fetch version from package.json
async function fetchVersion() {
    try {
        const packageJsonUrl = 'https://raw.githubusercontent.com/tonicmeef/TONIC-MD/main/package.json';
        const response = await axios.get(packageJsonUrl);
        const packageJson = response.data;
        return packageJson.version || 'Unknown';
    } catch (error) {
        console.error("Error fetching version:", error);
        return 'Unknown';
    }
}

cmd({
    pattern: "menu",
    desc: "bot menu",
    category: "menu",
    react: "ğŸ«©",
    filename: __filename
}, 
async (conn, mek, m, { from, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply }) => {
    try {
        // Fetch version dynamically
        const version = await fetchVersion();

        let dec = `â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘         
âš™ï¸ *á´á´á´…á´‡* : ${config.MODE}
ğŸ›  *á´˜Ê€á´‡Ò“Éªx* : ${config.PREFIX}
âš–ï¸ *Ê€á´€á´* : ${(process.memoryUsage().heapUsed / 1024 / 1024).toFixed(2)}MB / ${Math.round(require('os').totalmem / 1024 / 1024)}MB 
ğŸ§° *á´ á´‡Ê€sÉªá´É´* : ${version}
ğŸŒ *Ê€á´‡É¢Éªá´É´* : á´¢Éªá´Ê™á´€Ê™á´¡á´‡
ğŸ“œ *á´˜ÊŸá´œÉ¢ÉªÉ´s*: ${totalCommands}
â³ *á´œá´˜á´›Éªá´á´‡* : ${runtime(process.uptime())} 
â±ï¸ *á´›Éªá´á´‡* : ${getHarareTime()}
ğŸ“† *á´…á´€á´›á´‡* : ${getHararedate()}
ğŸ‘‘ *á´„Ê€á´‡á´€á´›á´Ê€* : á´›á´É´Éªá´„ á´á´œÉ´á´á´…á´€á´¡á´€Ò“á´€
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
${readMore}

*\`â á´…á´á´¡É´ÊŸá´á´€á´… á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â’
â”Šâ’.*Ò“Ê™*
â”Šâ’.*ÉªÉ´êœ±á´›á´€*
â”Šâ’.*sá´˜á´á´›ÉªÒ“Ê*
â”Šâ’.*á´ Éªá´…á´‡á´*
â”Šâ’.*É¢á´…Ê€Éªá´ á´‡*
â”Šâ’.*á´›á´¡Éªá´›á´›á´‡Ê€*
â”Šâ’.*á´›á´›*
â”Šâ’.*á´á´‡á´…Éªá´€Ò“ÉªÊ€á´‡*
â”Šâ’.*êœ±á´É´É¢*
â”Šâ’.*á´˜ÊŸá´€Ê*
â”Šâ’.*á´˜ÊŸá´€Ê2*
â”Šâ’.*á´ Éªá´…á´‡á´*
â”Šâ’.*É¢Éªá´›á´„ÊŸá´É´á´‡*
â”Šâ’.*Éªá´É¢*
â”Šâ’.*á´€á´˜á´‹*
â”Šâ’.*Êá´›á´á´˜3*
â”Šâ’.*Êá´›á´á´˜4*
â”Šâ’.*á´˜ÉªÉ´á´›á´‡Ê€á´‡sá´›*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â sá´‡á´€Ê€á´„Êœ á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*Êá´›êœ±*
â”Šâ’.*á´„á´œÊ€Ê€á´‡É´á´„Ê*
â”Šâ’.*É¢á´á´É¢ÊŸá´‡*
â”Šâ’.*ÊŸá´ÊŸÉª*
â”Šâ’.*É¢Éªá´›sá´›á´€ÊŸá´‹*
â”Šâ’.*á´¡Éªá´‹Éªá´˜á´‡á´…Éªá´€*
â”Šâ’.*sÊ€á´‡á´˜á´*
â”Šâ’.*á´á´á´ Éªá´‡ÉªÉ´Ò“á´*
â”Šâ’.*É¢á´á´É¢ÊŸá´‡*
â”Šâ’.*Ê™ÉªÊ™ÊŸá´‡*
â”Šâ’.*á´á´á´ Éªá´‡*
â”Šâ’.*á´¡á´‡á´€á´›Êœá´‡Ê€*
â”Šâ’.*ssá´¡á´‡Ê™*
â”Šâ’.*É´á´˜á´*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â á´€Éª á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*É¢á´˜á´›*
â”Šâ’.*á´€Éª*
â”Šâ’.*Ê™á´á´›*
â”Šâ’.*á´›á´É´Éªá´„*
â”Šâ’.*É¢á´‡á´ÉªÉ´Éª*
â”Šâ’.*Ê™ÉªÉ´É¢*
â”Šâ’.*á´„á´á´˜ÉªÊŸá´á´›*
â”Šâ’.*á´€Ê€á´›*
â”Šâ’.*á´á´‡á´›á´€á´€Éª*
â”Šâ’.*á´„Êœá´€á´›É¢á´˜á´›*
â”Šâ’.*É¢á´˜á´›3*
â”Šâ’.*É¢á´˜á´›4*
â”Šâ’.*Éªá´á´€É¢ÉªÉ´á´‡*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â á´á´¡É´á´‡Ê€ á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*á´œá´˜á´…á´€á´›á´‡á´„á´á´…*
â”Šâ’.*sá´‡á´›á´›ÉªÉ´É¢s*
â”Šâ’.*á´á´¡É´á´‡Ê€*
â”Šâ’.*Ê€á´‡á´˜á´*
â”Šâ’.*êœ±Êêœ±á´›á´‡á´*
â”Šâ’.*á´œá´˜á´…á´€á´›á´‡*
â”Šâ’.*êœ±á´›á´€á´›á´œêœ±*
â”Šâ’.*Ê™ÊŸá´á´„á´‹*
â”Šâ’.*á´œÉ´Ê™ÊŸá´á´„á´‹*
â”Šâ’.*sÊœá´œá´›á´…á´á´¡É´*
â”Šâ’.*á´„ÊŸá´‡á´€Ê€á´„Êœá´€á´›s*
â”Šâ’.*sá´‡á´›á´˜á´˜*
â”Šâ’.*Ò“á´œÊŸÊŸá´˜á´˜*
â”Šâ’.*Ê™Ê€á´á´€á´…á´„á´€sá´›*
â”Šâ’.*á´ŠÉªá´…*
â”Šâ’.*É¢á´ŠÉªá´…*
â”Šâ’.*Ê€á´‡êœ±á´›á´€Ê€á´›*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â É¢Ê€á´á´œá´˜ á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*Ê€á´‡á´á´á´ á´‡*
â”Šâ’.*á´…á´‡ÊŸá´‡á´›á´‡*
â”Šâ’.*á´€á´…á´…*
â”Šâ’.*á´‹Éªá´„á´‹*
â”Šâ’.*á´‹Éªá´„á´‹á´€ÊŸÊŸ*
â”Šâ’.*sá´‡á´›É¢á´á´á´…Ê™Êá´‡*
â”Šâ’.*sá´‡á´›á´¡á´‡ÊŸá´„á´á´á´‡*
â”Šâ’.*á´˜Ê€á´á´á´á´›á´‡*
â”Šâ’.*á´…á´‡á´á´á´›á´‡*
â”Šâ’.*á´›á´€É¢á´€ÊŸÊŸ*
â”Šâ’.*É¢á´‡á´›á´˜Éªá´„*
â”Šâ’.*ÉªÉ´á´ Éªá´›á´‡*
â”Šâ’.*Ê€á´‡á´ á´á´‹á´‡*
â”Šâ’.*á´Šá´ÉªÉ´Ê€á´‡Ç«á´œá´‡sá´›s*
â”Šâ’.*á´á´œá´›*
â”Šâ’.*á´€á´…á´ÉªÉ´s*
â”Šâ’.*á´€ÊŸÊŸÊ€á´‡Ç«*
â”Šâ’.*á´á´œá´›á´‡*
â”Šâ’.*á´œÉ´á´á´œá´›á´‡*
â”Šâ’.*ÊŸá´á´„á´‹É¢á´„*
â”Šâ’.*á´œÉ´ÊŸá´á´„á´‹É¢á´„*
â”Šâ’.*ÊŸá´‡á´€á´ á´‡*
â”Šâ’.*á´œá´˜á´…á´€á´›á´‡É¢É´á´€á´á´‡*
â”Šâ’.*á´œá´˜á´…á´€á´›á´‡É¢á´…á´‡sá´„*
â”Šâ’.*á´Šá´ÉªÉ´*
â”Šâ’.*ÊœÉªá´…á´‡á´›á´€É¢*
â”Šâ’.*É¢ÉªÉ´Ò“á´*
â”Šâ’.*á´…Éªsá´€á´˜á´˜á´‡á´€Ê€ á´É´*
â”Šâ’.*á´…Éªsá´€á´˜á´˜á´‡á´€Ê€ á´Ò“Ò“*
â”Šâ’.*á´…Éªsá´€á´˜á´˜á´‡á´€Ê€ 7á´… 24Êœ 90á´…*
â”Šâ’.*sá´‡É´á´…á´…á´*
â”Šâ’.*á´á´˜á´‡É´á´›Éªá´á´‡*
â”Šâ’.*á´„ÊŸá´sá´‡á´›Éªá´á´‡*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â á´á´›Êœá´‡Ê€ á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*á´á´‡É´á´œ*
â”Šâ’.*sá´„Ê€Éªá´˜á´›*
â”Šâ’.*Ê€á´‡á´˜á´*
â”Šâ’.*á´€ÊŸÉªá´ á´‡*
â”Šâ’.*Ê™á´á´›ÉªÉ´êœ°á´*
â”Šâ’.*êœ±á´›á´€á´›á´œêœ±*
â”Šâ’.*êœ±á´œá´˜á´˜á´Ê€á´›*
â”Šâ’.*á´˜ÉªÉ´É¢*
â”Šâ’.*á´˜ÉªÉ´É¢2*
â”Šâ’.*êœ±Êêœ±á´›á´‡á´*
â”Šâ’.*á´œá´˜á´…á´€á´›á´‡*
â”Šâ’.*á´„á´á´á´Éªá´›*
â”Šâ’.*á´˜á´€ÉªÊ€*
â”Šâ’.*Ê€á´‡á´˜á´Ê€á´›*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â á´„á´É´á´ á´‡Ê€á´› á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*sá´›Éªá´„á´‹á´‡Ê€*
â”Šâ’.*á´ sá´›Éªá´„á´‹á´‡Ê€*
â”Šâ’.*á´›Ê€á´›*
â”Šâ’.*á´›á´›s*
â”Šâ’.*á´€á´›á´›á´˜*
â”Šâ’.*ÊŸá´É¢á´*
â”Šâ’.*Ò“á´€É´á´„Ê*
â”Šâ’.*á´ á´ *
â”Šâ’.*Ï™Ê€*
â”Šâ’.*á´›ÉªÉ´Ê*
â”Šâ’.*sÊœá´Ê€á´›*
â”Šâ’.*á´ á´‡Ê€sÉªá´É´*
â”Šâ’.*Ê€ÉªÉ´É¢á´›á´É´á´‡s*
â”Šâ’.*á´œÊ€ÊŸ*
â”Šâ’.*á´œá´˜ÊŸá´á´€á´…*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â sá´‡á´›á´›ÉªÉ´É¢s á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*á´‡É´á´ *
â”Šâ’.*á´œá´˜á´…á´€á´›á´‡*
â”Šâ’.*á´˜ÉªÉ´É¢*
â”Šâ’.*á´á´¡É´á´‡Ê€*
â”Šâ’.*sá´‡á´›á´›ÉªÉ´É¢s*
â”Šâ’.*á´ á´‡Ê€sÉªá´É´*
â”Šâ’.*sá´œá´˜á´˜á´Ê€á´›*
â”Šâ’.*á´€ÊŸÉªá´ á´‡*
â”Šâ’.*sá´‡ssÉªá´É´s*
â”Šâ’.*Ê€á´‡á´˜á´Ê€á´›*
â”Šâ’.*ÊŸÉªsá´›á´˜ÊŸá´œÉ¢ÉªÉ´s*
â”Šâ’.*á´˜ÊŸá´œÉ¢ÉªÉ´á´…ÊŸ*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â á´¡á´€ÊŸÊŸá´˜á´€á´˜á´‡Ê€ á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*á´…á´É¢*
â”Šâ’.*Ê€á´‡á´á´á´ á´‡Ê™É¢*
â”Šâ’.*ÊŸá´ÊŸÉª*
â”Šâ’.*á´€á´¡á´á´*
â”Šâ’.*á´¡á´€ÉªÒ“á´œ*
â”Šâ’.*É¢á´€Ê€ÊŸ*
â”Šâ’.*á´á´€Éªá´…*
â”Šâ’.*É´á´‡á´‹á´*
â”Šâ’.*á´€É´Éªá´á´‡*
â”Šâ’.*á´€É´Éªá´á´‡É¢ÉªÊ€ÊŸ*
â”Šâ’.*Éªá´É¢*
â”Šâ’.*á´¡á´€ÊŸÊŸá´˜á´€á´˜á´‡Ê€*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘

*\`â Ò“á´œÉ´ á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*sÊœÊ*
â”Šâ’.*sÊœÊ*
â”Šâ’.*Êœá´€á´˜á´˜Ê*
â”Šâ’.*sá´€á´…*
â”Šâ’.*á´€É´É¢Ê€Ê*
â”Šâ’.*Êœá´€É´á´…*
â”Šâ’.*sÇ«á´œÉªá´…É¢á´€á´á´‡*
â”Šâ’.*Êœá´œÉ¢*
â”Šâ’.*á´á´á´É´*
â”Šâ’.*á´‹Éªss*
â”Šâ’.*á´„á´É´Ò“á´œsá´‡á´…*
â”Šâ’.*Êœá´‡á´€Ê€á´›*
â”Šâ’.*á´˜Éªá´„á´‹á´œá´˜ÊŸÉªÉ´á´‡*
â”Šâ’.*Ò“á´€á´„á´›*
â”Šâ’.*á´›Ê€á´œá´›Êœ*
â”Šâ’.*á´…á´€Ê€á´‡*
â”Šâ’.*á´„Êœá´€Ê€á´€á´„á´›á´‡Ê€*
â”Šâ’.*á´…Éªá´€Ê€Ê*
â”Šâ’.*É¢á´‡á´›Éªá´…*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘


*\`â á´›á´á´ÊŸs á´á´‡É´á´œ â\`* 

â•­â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘
â”Šâ’.*á´›Ê€á´›*
â”Šâ’.*á´Šá´á´‹á´‡*
â”Šâ’.*á´„ÊœÊ€á´‡á´€á´„á´›*
â”Šâ’.*êœ°á´€á´„á´›*
â”Šâ’.*É¢Éªá´›Êœá´œÊ™*
â”Šâ’.*É¢á´˜á´€êœ±êœ±*
â”Šâ’.*ssá´¡á´‡Ê™*
â”Šâ’.*sÊœá´Ê€á´›á´‡É´*
â”Šâ’.*á´›ÉªÉ´Êá´œÊ€ÊŸ*
â”Šâ’.*Êœá´€á´„á´‹*
â”Šâ’.*Ç«á´œá´á´›á´‡*
â”Šâ’.*Ê€á´‡á´˜á´*
â”Šâ’.*á´›É¢sá´›Éªá´„á´‹á´‡Ê€*
â”Šâ’.*sÊ€á´‡á´˜á´*
â”Šâ’.*á´›á´‡á´á´˜á´á´€ÉªÊŸ*
â”Šâ’.*á´›á´‡á´á´˜É´á´œá´*
â”Šâ’.*á´…á´‡êœ°ÉªÉ´á´‡*
â”Šâ’.*á´€É´á´›Éªá´ Éªá´‡á´¡á´É´á´„á´‡*
â”Šâ’.*á´€É´á´›Éªá´…á´‡ÊŸá´‡á´›á´‡ á´€ÊŸÊŸ*
â”Šâ’.*á´€É´á´›Éªá´…á´‡ÊŸá´‡á´›á´‡*
â”Šâ’.*á´€É´á´›Éªá´„á´€ÊŸÊŸ*
â”Šâ’.*á´€á´œá´›á´Ê™Éªá´*
â”Šâ’.*Ï™Ê€*
â•°â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â‘


*â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*â â â â 

> *Â© Pá´á´¡á´‡Ê€á´‡á´… BÊ Tá´É´Éªá´„ Tá´‡á´„Êœ IÉ´á´„.â™¡*

*â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*
`;

await conn.sendMessage(
            from,
            {
                image: { url: `https://files.catbox.moe/aoma8i.jpg` },
                caption: dec,
                contextInfo: {
                    mentionedJid: [m.sender],
                    forwardingScore: 999,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '120363374632065395@newsletter',
                        newsletterName: 'Tá´É´Éªá´„ Tá´‡á´„Êœ IÉ´á´„. ',
                        serverMessageId: 143
                    }
                }
            },
            { quoted: mek }
        );
        
    } catch (e) {
        console.log(e);
        reply(`${e}`);
    }
});



